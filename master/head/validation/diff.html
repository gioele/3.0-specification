<?xml version="1.0" encoding="UTF-8"?><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><!--Generated by the DeltaXML.com xhtml-outfilter.xsl--><!--Using XSL Processor: Saxonica--><title>XProc 3.0: validation steps</title><meta charset="utf-8" /><link rel="alternate" title="XML" href="specification.xml" /><link rel="alternate" title="Latest editor's draft" href="http://www.w3.org/XML/XProc/docs/langspec.html" /><link rel="alternate" title="Latest Public Working Draft" href="http://www.w3.org/TR/xproc/" /><meta name="generator" content="DocBook XSL 2.0 Stylesheets V2.3.9" /><meta name="description" content="Abstract This specification describes the p:validate-with-nvdl, p:validate-with-relax-ng,&#xA;p:validate-with-schematron, and p:validate-with-xml-schema&#xA;step for&#xA;XProc 3.0: An XML Pipeline Language." /><link href="css/prism.css" rel="stylesheet" type="text/css" /><link href="css/db-prism.css" rel="stylesheet" type="text/css" /><link rel="stylesheet" type="text/css" href="css/base.css" /><link rel="stylesheet" type="text/css" href="css/xproc.css" /><link rel="stylesheet" type="text/css" href="css/base.css" /><link rel="stylesheet" type="text/css" href="css/print.css" media="print" /><script type="text/javascript" src="js/dbmodnizr.js"></script><style type="text/css">
          body { margin-top: 50px }
          a.button { background: #DDD; border: 2px outset black; padding: 2px; margin: 2px; font-family: sans-serif; font-size: small;}
          a.button:hover { cursor:pointer; }
          a.button:active { border-style: inset; }
        </style><script type="text/javascript">
            function view(doc) {
              var allSpans=document.getElementsByTagName("*");
              if(doc=="old") {
                for(i=0;i!=allSpans.length;i++) {
                  var displayType= "inline";
                  if (allSpans[i].localName == "tr") {
                    displayType= "table-row";
                  } else if (allSpans[i].localName == "li") {
                    displayType= "list-item";
                  }
                  var name=allSpans[i].className;
                  if(name=="deltaxml-new" || name=="deltaxml-new-img" || name=="deltaxml-new-format" || name=="add_version" || name=="modify_version") {
                    allSpans[i].style.display="none";
                  } else if (name=="deltaxml-old" || name=="deltaxml-old-img" || name=="deltaxml-old-format" || name=="delete_version") {
                    allSpans[i].style.display= displayType;
                    allSpans[i].style.background="#FFF";
                    //need to take border off images
                    var allImgs=allSpans[i].getElementsByTagName("img");
                    for(j=0;j!=allImgs.length;j++) {
                      allImgs[j].style.border="none";
                    }
                  }
                }
              } else if(doc=="new") {
                for(i=0;i!=allSpans.length;i++) {
                  var displayType= "inline";
                  if (allSpans[i].localName == "tr") {
                    displayType= "table-row";
                  } else if (allSpans[i].localName == "li") {
                    displayType= "list-item";
                  }
                  var name=allSpans[i].className;
                  if(name=="deltaxml-new" || name=="deltaxml-new-img" || name=="deltaxml-new-format" || name=="add_version") {
                    allSpans[i].style.display= displayType;
                    allSpans[i].style.background="#FFF";
                    //need to take border off images
                    var allImgs=allSpans[i].getElementsByTagName("img");
                    for(j=0;j!=allImgs.length;j++) {
                      allImgs[j].style.border="none";
                    }
                  } else if (name=="deltaxml-old" || name=="deltaxml-old-img" || name=="deltaxml-old-format" || name=="delete_version" || name=="modify_version") {
                    allSpans[i].style.display="none";
                   }
                }
              } else if(doc=="both") {
                for(i=0;i!=allSpans.length;i++) {
                  var displayType= "inline";
                  if (allSpans[i].localName == "tr") {
                    displayType= "table-row";
                  } else if (allSpans[i].localName == "li") {
                    displayType= "list-item";
                  }
                  var name=allSpans[i].className;
                  if(name=="deltaxml-new" || name=="deltaxml-new-format" || name=="deltaxml-new-img") {
                    allSpans[i].style.display= displayType;
                    allSpans[i].style.background="#90EE90";
                    //need to add border to images
                    var allImgs=allSpans[i].getElementsByTagName("img");
                    for(j=0;j!=allImgs.length;j++) {
                      allImgs[j].style.border="2px solid green";
                    }
                  } else if(name=="deltaxml-old" || name=="deltaxml-old-format" || name=="deltaxml-old-img") {
                    allSpans[i].style.display= displayType;
                    allSpans[i].style.background="#FF5555";
                    //need to add border to images
                    var allImgs=allSpans[i].getElementsByTagName("img");
                    for(j=0;j!=allImgs.length;j++) {
                      allImgs[j].style.border="2px solid red";
                    }
                  } else if (name=="add_version" || name=="delete_version") {
                    allSpans[i].style.display="none";
                  } else if (name=="modify_version") {
                    allSpans[i].style.display= displayType;
                  }
                }
              }
            }
  
        </script></head><body><div style="position:fixed; clear:both; top:0px"><p><a class="button" onclick="view('old')">
              View Old
            </a><a class="button" onclick="view('new')">
              View New
            </a><a class="button" onclick="view('both')">
              View Both
            </a></p></div><article class="specification"><div class="head" id="spec.head"><h1>XProc 3.0: validation steps</h1><h2>Editor's Draft <time datetime="2019-05-16T15:36:36Z">16 May 2019 at 15:<span class="deltaxml-old" style="background:#FF5555">33</span><span class="deltaxml-new" style="background:#90EE90">36</span> UTC (<a href="https://github.com/xproc/3.0-steps/commit/d6117c1c33a699c5afec142205babeb18f0ba47b">build <span class="deltaxml-old" style="background:#FF5555">53</span><span class="deltaxml-new" style="background:#90EE90">54</span></a>)</time></h2><dl><dt>This Version:</dt><dd><a href="https://xproc.github.io/3.0-steps/master/head/validation/">https://xproc.github.io/3.0-steps/master/head/validation/</a></dd><dt>Latest Version:</dt><dd><a href="http://spec.xproc.org/master/head/validation/">http://spec.xproc.org/master/head/validation/</a></dd><dt>Editors:</dt><dd><span class="personname">Norman Walsh</span></dd><dd><span class="personname">Achim Berndzen</span></dd><dd><span class="personname">Gerrit Imsieke</span></dd><dd><span class="personname">Erik Siegel</span></dd><dt>Repository:</dt><dd><a href="http://github.com/xproc/3.0-steps">This specification on GitHub</a></dd><dd><a href="http://github.com/xproc/3.0-specification/issues">Report an issue</a></dd><dt>Changes:</dt><dd><a href="diff.html">Diff against current “status quo” draft</a></dd><dd><a href="http://github.com/xproc/3.0-steps/commits/master">Commits for this specification</a></dd></dl><p>This document is also available in these non-normative formats: <a href="specification.xml">XML</a>, automatic <a href="diff.html">change markup</a> from the previous draft courtesy of <a href="http://www.deltaxml.com/">DeltaXML</a>.</p><p class="copyright"><span class="copyright">Copyright © <span class="years">2018</span> <span class="holders"><span class="holder">@@FIXME:</span></span></span></p><hr /><div class="abstract"><h2>Abstract</h2><p><span style="display: none;" class="delete_version">This specification describes the <code class="code">p:validate-with-relax-ng</code>, <code class="code">p:validate-with-schematron</code>, and <code class="code">p:validate-with-xml-schema</code> step for <em class="citetitle">XProc 3.0: An XML Pipeline Language</em>.</span><span style="display: none;" class="add_version">This specification describes the <code class="code">p:validate-with-nvdl</code>, <code class="code">p:validate-with-relax-ng</code>, <code class="code">p:validate-with-schematron</code>, and <code class="code">p:validate-with-xml-schema</code> step for <em class="citetitle">XProc 3.0: An XML Pipeline Language</em>.</span><span class="modify_version">This specification describes the <code class="code">p:validate-with-<span class="deltaxml-new" style="background:#90EE90">nvdl</span></code><span class="deltaxml-new" style="background:#90EE90">, </span><code class="code"><span class="deltaxml-new" style="background:#90EE90">p:validate-with-</span>relax-ng</code>, <code class="code">p:validate-with-schematron</code>, and <code class="code">p:validate-with-xml-schema</code> step for <em class="citetitle">XProc 3.0: An XML Pipeline Language</em>.</span></p></div><div class="status"><h2>Status of this Document</h2><p><strong>This document is an editor's draft that has no official standing.</strong></p><p><em>This section describes the status of this document at the time of its publication. Other documents may supersede this document.</em></p><p>This document is derived from <a href="https://www.w3.org/TR/2010/REC-xproc-20100511/">XProc: An XML Pipeline Language</a> published by the W3C.</p></div></div><hr /><div class="lists-of-titles"><div class="toc"><h2 id="TableOfContents">Table of Contents</h2><ul class="toc"><li><span>1 <a href="#introduction">Introduction</a></span></li><li class="add_version" style="display: none;"><span>2 <a href="#validation-common">Common Options and Outputs</a></span></li><li class="modify_version"><span><span class="deltaxml-new" style="background:#90EE90">2 </span><a href="#validation-common"><span class="deltaxml-new" style="background:#90EE90">Common Options and Outputs</span></a></span></li><li class="add_version" style="display: none;"><span>3 <a href="#c.validate-with-nvdl">Validate with NVDL</a></span><ul class="toc"><li><span>3.1 <a href="#c.validate-with-nvdl.9">Document properties</a></span></li></ul></li><li class="modify_version"><span><span class="deltaxml-new" style="background:#90EE90">3 </span><a href="#c.validate-with-nvdl"><span class="deltaxml-new" style="background:#90EE90">Validate with NVDL</span></a></span><ul class="toc"><li><span><span class="deltaxml-new" style="background:#90EE90">3.1 </span><a href="#c.validate-with-nvdl.9"><span class="deltaxml-new" style="background:#90EE90">Document properties</span></a></span></li></ul></li><li><span style="display: none;" class="delete_version"><span>2 <a href="#c.validate-with-relax-ng">Validate with RELAX NG</a></span><ul class="toc"><li><span class="delete_version"><span>2.1 <a href="#c.validate-with-relax-ng.11">Document properties</a></span></span><span class="modify_version"><span>2.1 <a href="#c.validate-with-relax-ng.11">Document properties</a></span></span></li></ul></span><span style="display: none;" class="add_version"><span>4 <a href="#c.validate-with-relax-ng">Validate with RELAX NG</a></span><ul class="toc"><li><span class="add_version"><span>4.1 <a href="#c.validate-with-relax-ng.11">Document properties</a></span></span><span class="modify_version"><span>4.1 <a href="#c.validate-with-relax-ng.11">Document properties</a></span></span></li></ul></span><span class="modify_version"><span><span class="deltaxml-old" style="background:#FF5555">2</span><span class="deltaxml-new" style="background:#90EE90">4</span> <a href="#c.validate-with-relax-ng">Validate with RELAX NG</a></span><ul class="toc"><li><span style="display: none;" class="delete_version"><span>2.1 <a href="#c.validate-with-relax-ng.11">Document properties</a></span></span><span style="display: none;" class="add_version"><span>4.1 <a href="#c.validate-with-relax-ng.11">Document properties</a></span></span><span class="modify_version"><span><span class="deltaxml-old" style="background:#FF5555">2.1</span><span class="deltaxml-new" style="background:#90EE90">4.1</span> <a href="#c.validate-with-relax-ng.11">Document properties</a></span></span></li></ul></span></li><li><span style="display: none;" class="delete_version"><span>3 <a href="#c.validate-with-schematron">Validate with Schematron</a></span><ul class="toc"><li><span class="delete_version"><span>3.1 <a href="#c.validate-with-schematron.10">Document properties</a></span></span><span class="modify_version"><span>3.1 <a href="#c.validate-with-schematron.10">Document properties</a></span></span></li></ul></span><span style="display: none;" class="add_version"><span>5 <a href="#c.validate-with-schematron">Validate with Schematron</a></span><ul class="toc"><li><span class="add_version"><span>5.1 <a href="#c.validate-with-schematron.15">Document properties</a></span></span><span class="modify_version"><span>5.1 <a href="#c.validate-with-schematron.15">Document properties</a></span></span></li></ul></span><span class="modify_version"><span><span class="deltaxml-old" style="background:#FF5555">3</span><span class="deltaxml-new" style="background:#90EE90">5</span> <a href="#c.validate-with-schematron">Validate with Schematron</a></span><ul class="toc"><li><span style="display: none;" class="delete_version"><span>3.1 <a href="#c.validate-with-schematron.10">Document properties</a></span></span><span style="display: none;" class="add_version"><span>5.1 <a href="#c.validate-with-schematron.15">Document properties</a></span></span><span class="modify_version"><span><span class="deltaxml-old" style="background:#FF5555">3.1</span><span class="deltaxml-new" style="background:#90EE90">5.1</span> <a href="#c.validate-with-schematron.15">Document properties</a></span></span></li></ul></span></li><li><span style="display: none;" class="delete_version"><span>4 <a href="#c.validate-with-xml-schema">Validate with XML Schema</a></span><ul class="toc"><li><span class="delete_version"><span>4.1 <a href="#c.validate-with-xml-schema.16">Document properties</a></span></span><span class="modify_version"><span>4.1 <a href="#c.validate-with-xml-schema.16">Document properties</a></span></span></li></ul></span><span style="display: none;" class="add_version"><span>6 <a href="#c.validate-with-xml-schema">Validate with XML Schema</a></span><ul class="toc"><li><span class="add_version"><span>6.1 <a href="#c.validate-with-xml-schema.16">Document properties</a></span></span><span class="modify_version"><span>6.1 <a href="#c.validate-with-xml-schema.16">Document properties</a></span></span></li></ul></span><span class="modify_version"><span><span class="deltaxml-old" style="background:#FF5555">4</span><span class="deltaxml-new" style="background:#90EE90">6</span> <a href="#c.validate-with-xml-schema">Validate with XML Schema</a></span><ul class="toc"><li><span style="display: none;" class="delete_version"><span>4.1 <a href="#c.validate-with-xml-schema.16">Document properties</a></span></span><span style="display: none;" class="add_version"><span>6.1 <a href="#c.validate-with-xml-schema.16">Document properties</a></span></span><span class="modify_version"><span><span class="deltaxml-old" style="background:#FF5555">4.1</span><span class="deltaxml-new" style="background:#90EE90">6.1</span> <a href="#c.validate-with-xml-schema.16">Document properties</a></span></span></li></ul></span></li><li><span style="display: none;" class="delete_version"><span>5 <a href="#errors">Step Errors</a></span></span><span style="display: none;" class="add_version"><span>7 <a href="#errors">Step Errors</a></span></span><span class="modify_version"><span><span class="deltaxml-old" style="background:#FF5555">5</span><span class="deltaxml-new" style="background:#90EE90">7</span> <a href="#errors">Step Errors</a></span></span></li><li><span>A <a href="#conformance">Conformance</a></span><ul class="toc"><li><span>A.1 <a href="#implementation-defined">Implementation-defined features</a></span></li><li><span>A.2 <a href="#implementation-dependent">Implementation-dependent features</a></span></li></ul></li><li><span>B <a href="#references">References</a></span></li><li><span>C <a href="#glossary">Glossary</a></span></li><li><span>D <a href="#ancillary-files">Ancillary files</a></span></li></ul></div></div><section class="section" id="introduction"><div class="section-titlepage"><h2>1 Introduction</h2></div><div class="content"><p><span style="display: none;" class="delete_version">This specification describes the <code class="code">p:validate-with-relax-ng</code>, <code class="code">p:validate-with-schematron</code>, and <code class="code">p:validate-with-xml-schema</code> steps. Each is independently optional. A machine-readable description of these steps may be found in <a href="steps.xpl">steps.xpl</a>. </span><span style="display: none;" class="add_version">This specification describes the <code class="code">p:validate-with-relax-ng</code>, <code class="code">p:validate-with-schematron</code>, <code class="code">p:validate-with-xml-schema</code>, <code class="code">p:validate-with-nvdl</code>, and the generic <code class="code">p:validate</code> steps. Each is independently optional. A machine-readable description of these steps may be found in <a href="steps.xpl">steps.xpl</a>. </span><span class="modify_version">This specification describes the <code class="code">p:validate-with-relax-ng</code>, <code class="code">p:validate-with-schematron</code>, <span class="deltaxml-old" style="background:#FF5555">and </span><code class="code">p:validate-with-xml-schema</code><span class="deltaxml-new" style="background:#90EE90">,</span> <code class="code"><span class="deltaxml-new" style="background:#90EE90">p:validate-with-nvdl</span></code><span class="deltaxml-new" style="background:#90EE90">, and the generic </span><code class="code"><span class="deltaxml-new" style="background:#90EE90">p:validate</span></code><span class="deltaxml-new" style="background:#90EE90"> </span>steps. Each is independently optional. A machine-readable description of these steps may be found in <a href="steps.xpl">steps.xpl</a>. </span></p><p>Familarity with the general nature of [<a href="#xproc30"><span class="abbrev">XProc 3.0</span></a>] steps is assumed; for background details, see [<a href="#xproc30-steps"><span class="abbrev">XProc 3.0 Steps</span></a>].</p></div></section><section id="validation-common" class="section"><div class="section-titlepage"><h2><span class="deltaxml-new" style="background:#90EE90">2 Common Options and Outputs</span></h2></div><div class="content"><p><span class="deltaxml-new" style="background:#90EE90">All steps in this specification provide a boolean option </span><code class="option"><span class="deltaxml-new" style="background:#90EE90">assert-valid</span></code><span class="deltaxml-new" style="background:#90EE90">. If any of the validated documents is found to be invalid according to the respective schema, and possibly other parameters that influence determination of validity, a dynamic error is raised.</span></p><div id="note-assert-valid" class="note admonition"><h3><span class="deltaxml-new" style="background:#90EE90">Note</span></h3><div class="admonition-body"><p><span class="deltaxml-new" style="background:#90EE90">Historically, the validation steps (apart from </span><a href="#c.validate-with-schematron"><code class="tag-element"><span class="deltaxml-new" style="background:#90EE90">p:validate-with-schematron</span></code></a><span class="deltaxml-new" style="background:#90EE90">) could only report errors by setting </span><code class="option"><span class="deltaxml-new" style="background:#90EE90">assert-valid</span></code><span class="deltaxml-new" style="background:#90EE90"> to </span><code class="literal"><span class="deltaxml-new" style="background:#90EE90">true</span></code><span class="deltaxml-new" style="background:#90EE90"> and catching the errors. A </span><code class="tag-element"><span class="deltaxml-new" style="background:#90EE90">c:errors</span></code><span class="deltaxml-new" style="background:#90EE90"> document on the </span><code class="port"><span class="deltaxml-new" style="background:#90EE90">error</span></code><span class="deltaxml-new" style="background:#90EE90"> of the corresponding </span><code class="tag-element"><span class="deltaxml-new" style="background:#90EE90">p:catch</span></code><span class="deltaxml-new" style="background:#90EE90"> recovery pipeline had to be sent to an output, either verbatim or after postprocessing. Now, if </span><code class="option"><span class="deltaxml-new" style="background:#90EE90">assert-valid</span></code><span class="deltaxml-new" style="background:#90EE90"> is </span><code class="literal"><span class="deltaxml-new" style="background:#90EE90">false</span></code><span class="deltaxml-new" style="background:#90EE90">, an XVRL document will be available on the </span><code class="port"><span class="deltaxml-new" style="background:#90EE90">report</span></code><span class="deltaxml-new" style="background:#90EE90"> of the validation step. It uses the XVRL severity vocabulary to indicate whether the validation failed, and to which degree. This allows more nuance in reporting errors. Previously, </span><code class="literal"><span class="deltaxml-new" style="background:#90EE90">assert-valid="true"</span></code><span class="deltaxml-new" style="background:#90EE90"> on </span><a href="#c.validate-with-schematron"><code class="tag-element"><span class="deltaxml-new" style="background:#90EE90">p:validate-with-schematron</span></code></a><span class="deltaxml-new" style="background:#90EE90"> would always throw an error even if the reported findings were only intended as less severe, for example if the schema author used </span><code class="literal"><span class="deltaxml-new" style="background:#90EE90">info</span></code><span class="deltaxml-new" style="background:#90EE90"> or </span><code class="literal"><span class="deltaxml-new" style="background:#90EE90">warning</span></code><span class="deltaxml-new" style="background:#90EE90"> in </span><code class="code"><span class="deltaxml-new" style="background:#90EE90">sch:report/@role</span></code><span class="deltaxml-new" style="background:#90EE90">.</span></p></div></div><p><span class="deltaxml-new" style="background:#90EE90">If no such error is raised, each step generates at least one validation report document on its </span><code class="port"><span class="deltaxml-new" style="background:#90EE90">report</span></code><span class="deltaxml-new" style="background:#90EE90"> port. Unless another serialization format is requested, the mandatory report document </span><span class="rfc2119" id="validation-common.4.2"><span class="deltaxml-new" style="background:#90EE90">should</span></span><span class="deltaxml-new" style="background:#90EE90"> be valid with respect to the [</span><a href="#xvrl"><span class="abbrev"><span class="deltaxml-new" style="background:#90EE90">XVRL</span></span></a><span class="deltaxml-new" style="background:#90EE90">] schema. There may be multiple report documents on the </span><code class="port"><span class="deltaxml-new" style="background:#90EE90">report</span></code><span class="deltaxml-new" style="background:#90EE90"> port, including other vocabularies such as SVRL. If a step performs multiple validations, as may be the case for </span><code class="code"><span class="deltaxml-new" style="background:#90EE90">p:validate</span></code><span class="deltaxml-new" style="background:#90EE90">, all individual XVRL reports </span><span class="rfc2119" id="validation-common.4.6"><span class="deltaxml-new" style="background:#90EE90">should</span></span><span class="deltaxml-new" style="background:#90EE90"> be consolidated into a single XVRL report by the step.</span></p><div class="note editorial admonition"><h3><span class="deltaxml-new" style="background:#90EE90">Note</span></h3><div class="admonition-body"><p><span class="deltaxml-new" style="background:#90EE90">Should the XVRL spec be built using the XProc infrastructure? I added a preliminary biblioref that points to </span><code class="uri"><span class="deltaxml-new" style="background:#90EE90">http://spec.xproc.org/xvrl/</span></code></p></div></div><div class="note editorial admonition"><h3><span class="deltaxml-new" style="background:#90EE90">Note</span></h3><div class="admonition-body"><p><span class="deltaxml-new" style="background:#90EE90">Should we allow also text and json content types for the report port? Only as an additional alternative, or instead of the XML report?</span></p><p><span class="deltaxml-new" style="background:#90EE90">Should we add a parameter to </span><code class="code"><span class="deltaxml-new" style="background:#90EE90">p:cast-content-type</span></code><span class="deltaxml-new" style="background:#90EE90"> that allows to convert between XML and JSON XVRL serialization formats (once JSON serialization is specified for XVRL)?</span></p></div></div><p><span class="deltaxml-new" style="background:#90EE90">Each of the validation steps has a </span><code class="option"><span class="deltaxml-new" style="background:#90EE90">parameters</span></code><span class="deltaxml-new" style="background:#90EE90"> option. The supported keys and their semantics are </span><em class="glossterm"><a href="#dt-implementation-defined"><span class="deltaxml-new" style="background:#90EE90">implementation-defined</span></a></em><span class="deltaxml-new" style="background:#90EE90">, and they can be different for each validation step. Keys in the </span><code class="literal"><span class="deltaxml-new" style="background:#90EE90">c</span></code><span class="deltaxml-new" style="background:#90EE90"> namespace, </span><code class="uri"><span class="deltaxml-new" style="background:#90EE90">http://www.w3.org/ns/xproc-step</span></code><span class="deltaxml-new" style="background:#90EE90">, namely </span><code class="literal"><span class="deltaxml-new" style="background:#90EE90">c:compile</span></code><span class="deltaxml-new" style="background:#90EE90"> and </span><code class="literal"><span class="deltaxml-new" style="background:#90EE90">c:xvrl</span></code><span class="deltaxml-new" style="background:#90EE90">, hold itself maps that control schema compilation and XVRL generation, respectively. Schema compilation is, for example, the process of converting a Schematron schema into an XSLT stylesheet. For the </span><code class="literal"><span class="deltaxml-new" style="background:#90EE90">c:xvrl</span></code><span class="deltaxml-new" style="background:#90EE90"> map, XProc implementations that implement any of the validation steps </span><span class="rfc2119" id="validation-common.7.8"><span class="deltaxml-new" style="background:#90EE90">should</span></span><span class="deltaxml-new" style="background:#90EE90"> also support the basic parameters that are defined in the [</span><a href="#xvrl"><span class="abbrev"><span class="deltaxml-new" style="background:#90EE90">XVRL</span></span></a><span class="deltaxml-new" style="background:#90EE90">] specification, </span><code class="literal"><span class="deltaxml-new" style="background:#90EE90">format</span></code><span class="deltaxml-new" style="background:#90EE90"> and </span><code class="literal"><span class="deltaxml-new" style="background:#90EE90">severity</span></code><span class="deltaxml-new" style="background:#90EE90">.</span></p></div></section><section id="c.validate-with-nvdl" class="section"><div class="section-titlepage"><h2><span class="deltaxml-new" style="background:#90EE90">3 Validate with NVDL</span></h2></div><div class="content"><p><span class="deltaxml-new" style="background:#90EE90">The </span><code class="tag-element"><span class="deltaxml-new" style="background:#90EE90">p:validate-with-nvdl</span></code><span class="deltaxml-new" style="background:#90EE90"> step applies [</span><a href="#iso19757-4"><span class="abbrev"><span class="deltaxml-new" style="background:#90EE90">NVDL</span></span></a><span class="deltaxml-new" style="background:#90EE90">] validation to the </span><code class="port"><span class="deltaxml-new" style="background:#90EE90">source</span></code><span class="deltaxml-new" style="background:#90EE90"> document.</span></p><p class="element-syntax element-syntax-declare-step"><span class="decl"><code><span class="deltaxml-new" style="background:#90EE90">&lt;p:declare-step</span></code><code class="attr type-attr"><span class="deltaxml-new" style="background:#90EE90">type</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value type-value"><span class="deltaxml-new" style="background:#90EE90">p:validate-with-nvdl</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code><span class="deltaxml-new" style="background:#90EE90">&gt;</span></code></span><br /><span class="deltaxml-new" style="background:#90EE90">     </span><span class="input"><code><span class="deltaxml-new" style="background:#90EE90">&lt;p:input</span></code><code class="attr port-attr"><span class="deltaxml-new" style="background:#90EE90">port</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value port-value"><span class="deltaxml-new" style="background:#90EE90">source</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code class="attr primary-attr"><span class="deltaxml-new" style="background:#90EE90">primary</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value primary-value"><span class="deltaxml-new" style="background:#90EE90">true</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code class="attr content-types-attr"><span class="deltaxml-new" style="background:#90EE90">content-types</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value content-types-value"><span class="deltaxml-new" style="background:#90EE90">xml html</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code><span class="deltaxml-new" style="background:#90EE90">/&gt;</span></code></span><br /><span class="deltaxml-new" style="background:#90EE90">     </span><span class="input"><code><span class="deltaxml-new" style="background:#90EE90">&lt;p:input</span></code><code class="attr port-attr"><span class="deltaxml-new" style="background:#90EE90">port</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value port-value"><span class="deltaxml-new" style="background:#90EE90">nvdl</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code class="attr content-types-attr"><span class="deltaxml-new" style="background:#90EE90">content-types</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value content-types-value"><span class="deltaxml-new" style="background:#90EE90">xml</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code><span class="deltaxml-new" style="background:#90EE90">/&gt;</span></code></span><br /><span class="deltaxml-new" style="background:#90EE90">     </span><span class="input"><code><span class="deltaxml-new" style="background:#90EE90">&lt;p:input</span></code><code class="attr port-attr"><span class="deltaxml-new" style="background:#90EE90">port</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value port-value"><span class="deltaxml-new" style="background:#90EE90">schemas</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code class="attr sequence-attr"><span class="deltaxml-new" style="background:#90EE90">sequence</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value sequence-value"><span class="deltaxml-new" style="background:#90EE90">true</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code class="attr content-types-attr"><span class="deltaxml-new" style="background:#90EE90">content-types</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value content-types-value"><span class="deltaxml-new" style="background:#90EE90">text xml</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code><span class="deltaxml-new" style="background:#90EE90">/&gt;</span></code></span><br /><span class="deltaxml-new" style="background:#90EE90">     </span><span class="input"><code><span class="deltaxml-new" style="background:#90EE90">&lt;p:output</span></code><code class="attr port-attr"><span class="deltaxml-new" style="background:#90EE90">port</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value port-value"><span class="deltaxml-new" style="background:#90EE90">result</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code class="attr primary-attr"><span class="deltaxml-new" style="background:#90EE90">primary</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value primary-value"><span class="deltaxml-new" style="background:#90EE90">true</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code class="attr content-types-attr"><span class="deltaxml-new" style="background:#90EE90">content-types</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value content-types-value"><span class="deltaxml-new" style="background:#90EE90">xml html</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code><span class="deltaxml-new" style="background:#90EE90">/&gt;</span></code></span><br /><span class="deltaxml-new" style="background:#90EE90">     </span><span class="input"><code><span class="deltaxml-new" style="background:#90EE90">&lt;p:output</span></code><code class="attr port-attr"><span class="deltaxml-new" style="background:#90EE90">port</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value port-value"><span class="deltaxml-new" style="background:#90EE90">report</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code class="attr sequence-attr"><span class="deltaxml-new" style="background:#90EE90">sequence</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value sequence-value"><span class="deltaxml-new" style="background:#90EE90">true</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code class="attr content-types-attr"><span class="deltaxml-new" style="background:#90EE90">content-types</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value content-types-value"><span class="deltaxml-new" style="background:#90EE90">application/xml json</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code><span class="deltaxml-new" style="background:#90EE90">/&gt;</span></code></span><br /><span class="deltaxml-new" style="background:#90EE90">     </span><span class="opt-opt"><code><span class="deltaxml-new" style="background:#90EE90">&lt;p:option</span></code><code class="attr name-attr"><span class="deltaxml-new" style="background:#90EE90">name</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value name-value"><span class="deltaxml-new" style="background:#90EE90">assert-valid</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code class="attr select-attr"><span class="deltaxml-new" style="background:#90EE90">select</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value select-value"><span class="deltaxml-new" style="background:#90EE90">true()</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code class="attr as-attr"><span class="deltaxml-new" style="background:#90EE90">as</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value as-value"><span class="deltaxml-new" style="background:#90EE90">xs:boolean</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code><span class="deltaxml-new" style="background:#90EE90">/&gt;</span></code><code></code></span><br /><span class="deltaxml-new" style="background:#90EE90">     </span><span class="opt-opt"><code><span class="deltaxml-new" style="background:#90EE90">&lt;p:option</span></code><code class="attr name-attr"><span class="deltaxml-new" style="background:#90EE90">name</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value name-value"><span class="deltaxml-new" style="background:#90EE90">parameters</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code class="attr as-attr"><span class="deltaxml-new" style="background:#90EE90">as</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value as-value"><span class="deltaxml-new" style="background:#90EE90">map(xs:QName,item()*)?</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code><span class="deltaxml-new" style="background:#90EE90">/&gt;</span></code><code><span class="deltaxml-new" style="background:#90EE90">     </span></code></span><br /><code><span class="deltaxml-new" style="background:#90EE90">&lt;/p:declare-step&gt;</span></code></p><p><span class="deltaxml-new" style="background:#90EE90">The </span><code class="port"><span class="deltaxml-new" style="background:#90EE90">source</span></code><span class="deltaxml-new" style="background:#90EE90"> document is validated using the namespace dispatching rules contained in the </span><code class="port"><span class="deltaxml-new" style="background:#90EE90">nvdl</span></code><span class="deltaxml-new" style="background:#90EE90"> document.</span></p><p><span class="deltaxml-new" style="background:#90EE90">The dispatching rules may contain URI references that point to the actual schemas to be used. As long as these schemas are accessible, it is not necessary to pass anything on the schemas port. However, if one or more schemas are provided on the </span><code class="port"><span class="deltaxml-new" style="background:#90EE90">schemas</span></code><span class="deltaxml-new" style="background:#90EE90"> port, then these schemas should be used in validation.</span></p><p><a id="err.inline.C0053"></a><span class="deltaxml-new" style="background:#90EE90">It is a </span><em class="glossterm"><a href="#dt-dynamic-error"><span class="deltaxml-new" style="background:#90EE90">dynamic error</span></a></em><span class="deltaxml-new" style="background:#90EE90"> (</span><a href="#err.C0053"><code class="errqname"><span class="deltaxml-new" style="background:#90EE90">err:XC0053</span></code></a><span class="deltaxml-new" style="background:#90EE90">) if the </span><code class="option"><span class="deltaxml-new" style="background:#90EE90">assert-valid</span></code><span class="deltaxml-new" style="background:#90EE90"> option is </span><code class="literal"><span class="deltaxml-new" style="background:#90EE90">true</span></code><span class="deltaxml-new" style="background:#90EE90"> and the input document is not valid.</span></p><p><span class="deltaxml-new" style="background:#90EE90">The output from this step is a copy of the input. The output of this step </span><span class="rfc2119" id="c.validate-with-nvdl.7.1"><span class="deltaxml-new" style="background:#90EE90">may</span></span><span class="deltaxml-new" style="background:#90EE90"> include PSVI annotations.</span></p><div id="ednote-nvdl" class="note editorial admonition"><h3><span class="deltaxml-new" style="background:#90EE90">Note</span></h3><div class="admonition-body"><p><span class="deltaxml-new" style="background:#90EE90">Should the step also provide the </span><code class="option"><span class="deltaxml-new" style="background:#90EE90">dtd-attribute-values</span></code><span class="deltaxml-new" style="background:#90EE90"> and </span><code class="option"><span class="deltaxml-new" style="background:#90EE90">dtd-id-idref-warnings</span></code><span class="deltaxml-new" style="background:#90EE90"> options for Relax NG validations? Is there a way to instruct </span><a href="https://github.com/relaxng/jing-trang"><span class="deltaxml-new" style="background:#90EE90">Jing</span></a><span class="deltaxml-new" style="background:#90EE90"> to use these options, maybe in NVDL extension attributes? Probably not in the foreseeable future.</span></p></div></div><section id="c.validate-with-nvdl.9" class="section"><div class="section-titlepage"><h3><span class="deltaxml-new" style="background:#90EE90">3.1 Document properties</span></h3></div><div class="content"><p><span class="deltaxml-new" style="background:#90EE90">All document properties on the </span><code class="port"><span class="deltaxml-new" style="background:#90EE90">source</span></code><span class="deltaxml-new" style="background:#90EE90"> port are preserved on the </span><code class="port"><span class="deltaxml-new" style="background:#90EE90">result</span></code><span class="deltaxml-new" style="background:#90EE90"> port. No document properties on the </span><code class="port"><span class="deltaxml-new" style="background:#90EE90">schemas</span></code><span class="deltaxml-new" style="background:#90EE90"> and </span><code class="port"><span class="deltaxml-new" style="background:#90EE90">nvdl</span></code><span class="deltaxml-new" style="background:#90EE90"> ports are preserved. No document properties are preserved on the </span><code class="port"><span class="deltaxml-new" style="background:#90EE90">report</span></code><span class="deltaxml-new" style="background:#90EE90"> port.</span></p></div></section></div></section><section class="section" id="c.validate-with-relax-ng"><div class="section-titlepage"><h2><span class="deltaxml-old" style="background:#FF5555">2</span><span class="deltaxml-new" style="background:#90EE90">4</span> Validate with RELAX NG</h2></div><div class="content"><p>The <code class="tag-element">p:validate-with-relax-ng</code> step applies [<a href="#iso19757-2"><span class="abbrev">RELAX NG</span></a>] validation to the <code class="port">source</code> document.</p><p class="element-syntax element-syntax-declare-step"><span style="display: none;" class="delete_version"><span class="decl"><code>&lt;p:declare-step</code><code class="attr type-attr">type</code><code>="</code><code class="value type-value">p:validate-with-relax-ng</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">source</code><code>"</code><code class="attr primary-attr">primary</code><code>="</code><code class="value primary-value">true</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">application/xml text/xml */*+xml</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">schema</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">application/xml */*+xml text/*</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">application/xml</code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">dtd-attribute-values</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">false()</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:boolean</code><code>"</code><code>/&gt;</code><code></code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">dtd-id-idref-warnings</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">false()</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:boolean</code><code>"</code><code>/&gt;</code><code></code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">assert-valid</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">true()</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:boolean</code><code>"</code><code>/&gt;</code><code></code></span><br /><code>&lt;/p:declare-step&gt;</code></span><span style="display: none;" class="add_version"><span class="decl"><code>&lt;p:declare-step</code><code class="attr type-attr">type</code><code>="</code><code class="value type-value">p:validate-with-relax-ng</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">source</code><code>"</code><code class="attr primary-attr">primary</code><code>="</code><code class="value primary-value">true</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">xml html</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">schema</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">text xml</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code><code class="attr primary-attr">primary</code><code>="</code><code class="value primary-value">true</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">xml html</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">report</code><code>"</code><code class="attr sequence-attr">sequence</code><code>="</code><code class="value sequence-value">true</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">application/xml json</code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">dtd-attribute-values</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">false()</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:boolean</code><code>"</code><code>/&gt;</code><code></code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">dtd-id-idref-warnings</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">false()</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:boolean</code><code>"</code><code>/&gt;</code><code></code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">assert-valid</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">true()</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:boolean</code><code>"</code><code>/&gt;</code><code></code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">parameters</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">map(xs:QName,item()*)?</code><code>"</code><code>/&gt;</code><code>     </code></span><br /><code>&lt;/p:declare-step&gt;</code></span><span class="modify_version"><span class="decl"><code>&lt;p:declare-step</code><code class="attr type-attr">type</code><code>="</code><code class="value type-value">p:validate-with-relax-ng</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">source</code><code>"</code><code class="attr primary-attr">primary</code><code>="</code><code class="value primary-value">true</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value"><span class="deltaxml-old" style="background:#FF5555">application/xml text/xml */*+xml</span><span class="deltaxml-new" style="background:#90EE90">xml html</span></code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">schema</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value"><span class="deltaxml-old" style="background:#FF5555">application</span><span class="deltaxml-new" style="background:#90EE90">text xml</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code>/<span class="deltaxml-new" style="background:#90EE90">&gt;</span></code></span><br /><span class="deltaxml-new" style="background:#90EE90">     </span><span class="input"><code><span class="deltaxml-old" style="background:#FF5555">xml </span><span class="deltaxml-new" style="background:#90EE90">&lt;p:output</span><span class="deltaxml-old" style="background:#FF5555">*</span></code><code class="attr port-attr"><span class="deltaxml-new" style="background:#90EE90">port</span></code><code><span class="deltaxml-old" style="background:#FF5555">/*</span><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value port-value"><span class="deltaxml-new" style="background:#90EE90">result</span></code><code><span class="deltaxml-old" style="background:#FF5555">+</span><span class="deltaxml-new" style="background:#90EE90">"</span></code><code class="attr primary-attr"><span class="deltaxml-new" style="background:#90EE90">primary</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value primary-value"><span class="deltaxml-new" style="background:#90EE90">true</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code class="attr content-types-attr"><span class="deltaxml-new" style="background:#90EE90">content-types</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value content-types-value">xml <span class="deltaxml-old" style="background:#FF5555">text/*</span><span class="deltaxml-new" style="background:#90EE90">html</span></code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value"><span class="deltaxml-old" style="background:#FF5555">result</span><span class="deltaxml-new" style="background:#90EE90">report</span></code><code>"</code><code class="attr sequence-attr"><span class="deltaxml-new" style="background:#90EE90">sequence</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value sequence-value"><span class="deltaxml-new" style="background:#90EE90">true</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">application/xml<span class="deltaxml-new" style="background:#90EE90"> json</span></code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">dtd-attribute-values</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">false()</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:boolean</code><code>"</code><code>/&gt;</code><code></code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">dtd-id-idref-warnings</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">false()</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:boolean</code><code>"</code><code>/&gt;</code><code></code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">assert-valid</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">true()</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:boolean</code><code>"</code><code>/&gt;</code><code></code></span><br /><span class="deltaxml-new" style="background:#90EE90">     </span><span class="opt-opt"><code>&lt;<span class="deltaxml-new" style="background:#90EE90">p:option</span></code><code class="attr name-attr"><span class="deltaxml-new" style="background:#90EE90">name</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value name-value"><span class="deltaxml-new" style="background:#90EE90">parameters</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code class="attr as-attr"><span class="deltaxml-new" style="background:#90EE90">as</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value as-value"><span class="deltaxml-new" style="background:#90EE90">map(xs:QName,item()*)?</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code>/<span class="deltaxml-new" style="background:#90EE90">&gt;</span></code><code><span class="deltaxml-new" style="background:#90EE90">     </span></code></span><br /><code><span class="deltaxml-new" style="background:#90EE90">&lt;/</span>p:declare-step&gt;</code></span></p><p>The values of the <code class="option">dtd-attribute-values</code> and <code class="option">dtd-id-idref-warnings</code> options <span class="rfc2119" id="c.validate-with-relax-ng.4.3">must</span> be booleans.</p><p>If the <code class="port">schema</code> document has an XML media type, then it <span class="rfc2119" id="c.validate-with-relax-ng.5.2">must</span> be interpreted as a RELAX NG Grammar. If the <code class="port">schema</code> document has the media type “<code class="literal">application/relax-ng-compact-syntax</code>” or the media type has a “<code class="literal">text</code>” type, then it <span class="rfc2119" id="c.validate-with-relax-ng.5.6">must</span> be interpreted as a [<a href="#relaxng-compact-syntax"><span class="abbrev">RELAX NG Compact Syntax</span></a>] document for validation.</p><p>If the <code class="option">dtd-attribute-values</code> option is <code class="literal">true</code>, then the attribute value defaulting conventions of [<a href="#relaxng-dtd-compat"><span class="abbrev">RELAX NG DTD Compatibility</span></a>] are also applied.</p><p>If the <code class="option">dtd-id-idref-warnings</code> option is <code class="literal">true</code>, then the validator <span class="rfc2119" id="c.validate-with-relax-ng.7.3">should</span> treat a schema that is incompatible with the ID/IDREF/IDREFs feature of [<a href="#relaxng-dtd-compat"><span class="abbrev">RELAX NG DTD Compatibility</span></a>] as if the document was invalid. </p><p><span style="display: none;" class="delete_version"><a id="err.inline.C0053"></a>It is a <em class="glossterm"><a href="#dt-dynamic-error">dynamic error</a></em> (<a href="#err.C0053"><code class="errqname">err:XC0053</code></a>) if the <code class="option">assert-valid</code> option is <code class="literal">true</code> and the input document is not valid.</span><span style="display: none;" class="add_version"><a id="err.inline.C0053.1"></a>It is a <em class="glossterm"><a href="#dt-dynamic-error">dynamic error</a></em> (<a href="#err.C0053"><code class="errqname">err:XC0053</code></a>) if the <code class="option">assert-valid</code> option is <code class="literal">true</code> and the input document is not valid.</span><span class="modify_version"><a id="err.inline.C0053"></a><a id="err.inline.C0053.1"></a>It is a <em class="glossterm"><a href="#dt-dynamic-error">dynamic error</a></em> (<a href="#err.C0053"><code class="errqname">err:XC0053</code></a>) if the <code class="option">assert-valid</code> option is <code class="literal">true</code> and the input document is not valid.</span></p><p>The output from this step is a copy of the input, possibly augmented by application of the [<a href="#relaxng-dtd-compat"><span class="abbrev">RELAX NG DTD Compatibility</span></a>]. The output of this step <span class="rfc2119" id="c.validate-with-relax-ng.9.2">may</span> include PSVI annotations.</p><p><span id="impl-1">Support for [<a href="#relaxng-dtd-compat"><span class="abbrev">RELAX NG DTD Compatibility</span></a>] is <em class="glossterm"><a href="#dt-implementation-defined">implementation defined</a></em>.</span></p><section class="section" id="c.validate-with-relax-ng.11"><div class="section-titlepage"><h3><span class="deltaxml-old" style="background:#FF5555">2.1</span><span class="deltaxml-new" style="background:#90EE90">4.1</span> Document properties</h3></div><div class="content"><p><span style="display: none;" class="delete_version">All document properties on the <code class="port">source</code> port are preserved on the <code class="port">result</code> port. No document properties on the <code class="port">schemas</code> port are preserved.</span><span style="display: none;" class="add_version">All document properties on the <code class="port">source</code> port are preserved on the <code class="port">result</code> port. No document properties on the <code class="port">schema</code> port are preserved. No document properties are preserved on the <code class="port">report</code> port.</span><span class="modify_version">All document properties on the <code class="port">source</code> port are preserved on the <code class="port">result</code> port. No document properties on the <code class="port"><span class="deltaxml-old" style="background:#FF5555">schemas</span><span class="deltaxml-new" style="background:#90EE90">schema</span></code> port are preserved.<span class="deltaxml-new" style="background:#90EE90"> No document properties are preserved on the </span><code class="port"><span class="deltaxml-new" style="background:#90EE90">report</span></code><span class="deltaxml-new" style="background:#90EE90"> port.</span></span></p></div></section></div></section><section class="section" id="c.validate-with-schematron"><div class="section-titlepage"><h2><span class="deltaxml-old" style="background:#FF5555">3</span><span class="deltaxml-new" style="background:#90EE90">5</span> Validate with Schematron</h2></div><div class="content"><p>The <code class="tag-element">p:validate-with-schematron</code> step applies [<a href="#iso19757-3"><span class="abbrev">Schematron</span></a>] processing to the <code class="port">source</code> document.</p><p class="element-syntax element-syntax-declare-step"><span style="display: none;" class="delete_version"><span class="decl"><code>&lt;p:declare-step</code><code class="attr type-attr">type</code><code>="</code><code class="value type-value">p:validate-with-schematron</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">source</code><code>"</code><code class="attr primary-attr">primary</code><code>="</code><code class="value primary-value">true</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">application/xml text/xml */*+xml</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">schema</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">application/xml text/xml */*+xml</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code><code class="attr primary-attr">primary</code><code>="</code><code class="value primary-value">true</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">application/xml</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">report</code><code>"</code><code class="attr sequence-attr">sequence</code><code>="</code><code class="value sequence-value">true</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">application/xml</code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">parameters</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">map(xs:QName,item()*)?</code><code>"</code><code>/&gt;</code><code>     </code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">phase</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">'#ALL'</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:string</code><code>"</code><code>/&gt;</code><code>       </code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">assert-valid</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">true()</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:boolean</code><code>"</code><code>/&gt;</code><code></code></span><br /><code>&lt;/p:declare-step&gt;</code></span><span style="display: none;" class="add_version"><span class="decl"><code>&lt;p:declare-step</code><code class="attr type-attr">type</code><code>="</code><code class="value type-value">p:validate-with-schematron</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">source</code><code>"</code><code class="attr primary-attr">primary</code><code>="</code><code class="value primary-value">true</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">xml html</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">schema</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">xml</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code><code class="attr primary-attr">primary</code><code>="</code><code class="value primary-value">true</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">application/xml</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">report</code><code>"</code><code class="attr sequence-attr">sequence</code><code>="</code><code class="value sequence-value">true</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">application/xml json</code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">parameters</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">map(xs:QName,item()*)?</code><code>"</code><code>/&gt;</code><code>     </code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">phase</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">'#DEFAULT'</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:string</code><code>"</code><code>/&gt;</code><code>   </code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">assert-valid</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">true()</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:boolean</code><code>"</code><code>/&gt;</code><code></code></span><br /><code>&lt;/p:declare-step&gt;</code></span><span class="modify_version"><span class="decl"><code>&lt;p:declare-step</code><code class="attr type-attr">type</code><code>="</code><code class="value type-value">p:validate-with-schematron</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">source</code><code>"</code><code class="attr primary-attr">primary</code><code>="</code><code class="value primary-value">true</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value"><span class="deltaxml-old" style="background:#FF5555">application/xml text/xml */*+xml</span><span class="deltaxml-new" style="background:#90EE90">xml html</span></code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">schema</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value"><span class="deltaxml-old" style="background:#FF5555">application/xml text/xml */*+xml</span><span class="deltaxml-new" style="background:#90EE90">xml</span></code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code><code class="attr primary-attr">primary</code><code>="</code><code class="value primary-value">true</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">application/xml</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">report</code><code>"</code><code class="attr sequence-attr">sequence</code><code>="</code><code class="value sequence-value">true</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">application/xml<span class="deltaxml-new" style="background:#90EE90"> json</span></code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">parameters</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">map(xs:QName,item()*)?</code><code>"</code><code>/&gt;</code><code>     </code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">phase</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">'#<span class="deltaxml-old" style="background:#FF5555">ALL</span><span class="deltaxml-new" style="background:#90EE90">DEFAULT</span>'</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:string</code><code>"</code><code>/&gt;</code><code>   <span class="deltaxml-old" style="background:#FF5555">    </span></code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">assert-valid</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">true()</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:boolean</code><code>"</code><code>/&gt;</code><code></code></span><br /><code>&lt;/p:declare-step&gt;</code></span></p><p><a id="err.inline.C0054"></a>It is a <em class="glossterm"><a href="#dt-dynamic-error">dynamic error</a></em> (<a href="#err.C0054"><code class="errqname">err:XC0054</code></a>) if the <code class="option">assert-valid</code> option is <code class="literal">true</code> and any Schematron assertions fail or reports succeed.</p><p>The value of the <code class="option">phase</code> option identifies the Schematron validation phase with which validation begins.</p><p><span style="display: none;" class="delete_version">The <code class="option">parameters</code> option provides name/value pairs which correspond to Schematron external variables.</span><span style="display: none;" class="add_version">The <code class="option">parameters</code> option provides name/value pairs which correspond to Schematron external variables, to parameters that influence code generation, or to parameters that influence SVRL to XVRL conversion.</span><span class="modify_version">The <code class="option">parameters</code> option provides name/value pairs which correspond to Schematron external variables<span class="deltaxml-new" style="background:#90EE90">, to parameters that influence code generation, or to parameters that influence SVRL to XVRL conversion</span>.</span></p><p><span class="deltaxml-new" style="background:#90EE90">There are multiple Schematron implementations. An XProc processor that implements this step </span><span class="rfc2119" id="c.validate-with-schematron.7.1"><span class="deltaxml-new" style="background:#90EE90">should</span></span><span class="deltaxml-new" style="background:#90EE90"> at least support the [</span><a href="#schematron-skeleton"><span class="abbrev"><span class="deltaxml-new" style="background:#90EE90">Schematron Skeleton</span></span></a><span class="deltaxml-new" style="background:#90EE90">] implementation.</span></p><p><span class="deltaxml-new" style="background:#90EE90">How the Schematron implementation is selected is </span><em class="glossterm"><a href="#dt-implementation-defined"><span class="deltaxml-new" style="background:#90EE90">implementation-defined</span></a></em><span class="deltaxml-new" style="background:#90EE90">. A processor might select an implementation based on the schema’s </span><code class="code attribute"><span class="deltaxml-new" style="background:#90EE90">queryBinding</span></code><span class="deltaxml-new" style="background:#90EE90"> attribute and/or provide configuration options.</span></p><p><span class="deltaxml-new" style="background:#90EE90">The </span><code class="option"><span class="deltaxml-new" style="background:#90EE90">parameters</span></code><span class="deltaxml-new" style="background:#90EE90"> map may contain two special entries, </span><code class="literal"><span class="deltaxml-new" style="background:#90EE90">c:compile</span></code><span class="deltaxml-new" style="background:#90EE90"> and </span><code class="literal"><span class="deltaxml-new" style="background:#90EE90">c:xvrl</span></code><span class="deltaxml-new" style="background:#90EE90">, both are maps. If a code-generating implementation such as Skeleton is used, the entries of the </span><code class="literal"><span class="deltaxml-new" style="background:#90EE90">c:compile</span></code><span class="deltaxml-new" style="background:#90EE90"> map, for example </span><code class="literal"><span class="deltaxml-new" style="background:#90EE90">allow-foreign</span></code><span class="deltaxml-new" style="background:#90EE90">, will be passed to the code generator.</span></p><p><span class="deltaxml-new" style="background:#90EE90">The SVRL to XVRL conversion can be influenced by the entries of the </span><code class="literal"><span class="deltaxml-new" style="background:#90EE90">c:xvrl</span></code><span class="deltaxml-new" style="background:#90EE90"> map. Which parameters this conversion accepts is </span><em class="glossterm"><a href="#dt-implementation-defined"><span class="deltaxml-new" style="background:#90EE90">implementation-defined</span></a></em><span class="deltaxml-new" style="background:#90EE90">.</span></p><p><span class="deltaxml-new" style="background:#90EE90">All other parameters of the </span><code class="option"><span class="deltaxml-new" style="background:#90EE90">parameters</span></code><span class="deltaxml-new" style="background:#90EE90"> option will be passed to the generated code if applicable, or to a hypothetical native Schematron validator that does without code generation.</span></p><p>The <code class="port">result</code> output from this step is a copy of the input.</p><p><span class="deltaxml-old" style="background:#FF5555">Schematron assertions and reports, if any, </span><span class="rfc2119" id="c.validate-with-schematron.8.1"><span class="deltaxml-old" style="background:#FF5555">must</span></span><span class="deltaxml-old" style="background:#FF5555"> appear on the </span><code class="port"><span class="deltaxml-old" style="background:#FF5555">report</span></code><span class="deltaxml-old" style="background:#FF5555"> port. The output </span><span class="rfc2119" id="c.validate-with-schematron.8.3"><span class="deltaxml-old" style="background:#FF5555">should</span></span><span class="deltaxml-old" style="background:#FF5555"> be in </span><em class="citetitle"><span class="deltaxml-old" style="background:#FF5555">Schematron Validation Report Language</span></em><span class="deltaxml-old" style="background:#FF5555"> (SVRL).</span></p><p><span class="deltaxml-new" style="background:#90EE90">In addition to the mandatory XVRL report, a </span><em class="citetitle"><span class="deltaxml-new" style="background:#90EE90">Schematron Validation Report Language</span></em><span class="deltaxml-new" style="background:#90EE90"> (SVRL) report should be provided on the </span><code class="port"><span class="deltaxml-new" style="background:#90EE90">report</span></code><span class="deltaxml-new" style="background:#90EE90"> port.</span></p><p><span style="display: none;" class="delete_version">The output of this step <span class="rfc2119" id="c.validate-with-schematron.9.1">may</span> include PSVI annotations.</span><span style="display: none;" class="add_version">The output of this step <span class="rfc2119" id="c.validate-with-schematron.14.1">may</span> include PSVI annotations.</span><span class="modify_version">The output of this step <span class="rfc2119" id="c.validate-with-schematron.14.1">may</span> include PSVI annotations.</span></p><section id="c.validate-with-schematron.10" class="section"><div class="section-titlepage"><h3><span class="deltaxml-old" style="background:#FF5555">3.1 Document properties</span></h3></div><div class="content"><p><span class="deltaxml-old" style="background:#FF5555">All document properties on the </span><code class="port"><span class="deltaxml-old" style="background:#FF5555">source</span></code><span class="deltaxml-old" style="background:#FF5555"> port are preserved on the </span><code class="port"><span class="deltaxml-old" style="background:#FF5555">result</span></code><span class="deltaxml-old" style="background:#FF5555"> port. No document properties on the </span><code class="port"><span class="deltaxml-old" style="background:#FF5555">schemas</span></code><span class="deltaxml-old" style="background:#FF5555"> port are preserved. No document properties are preserved on the </span><code class="port"><span class="deltaxml-old" style="background:#FF5555">report</span></code><span class="deltaxml-old" style="background:#FF5555"> port.</span></p></div></section><section id="c.validate-with-schematron.15" class="section"><div class="section-titlepage"><h3><span class="deltaxml-new" style="background:#90EE90">5.1 Document properties</span></h3></div><div class="content"><p><span class="deltaxml-new" style="background:#90EE90">All document properties on the </span><code class="port"><span class="deltaxml-new" style="background:#90EE90">source</span></code><span class="deltaxml-new" style="background:#90EE90"> port are preserved on the </span><code class="port"><span class="deltaxml-new" style="background:#90EE90">result</span></code><span class="deltaxml-new" style="background:#90EE90"> port. No document properties on the </span><code class="port"><span class="deltaxml-new" style="background:#90EE90">schema</span></code><span class="deltaxml-new" style="background:#90EE90"> port are preserved. No document properties are preserved on the </span><code class="port"><span class="deltaxml-new" style="background:#90EE90">report</span></code><span class="deltaxml-new" style="background:#90EE90"> port.</span></p></div></section></div></section><section class="section" id="c.validate-with-xml-schema"><div class="section-titlepage"><h2><span class="deltaxml-old" style="background:#FF5555">4</span><span class="deltaxml-new" style="background:#90EE90">6</span> Validate with XML Schema</h2></div><div class="content"><p>The <code class="tag-element">p:validate-with-xml-schema</code> step applies [<a href="#xmlschema-1"><span class="abbrev">W3C XML Schema: Part 1</span></a>] validity assessment to the <code class="port">source</code> input.</p><p class="element-syntax element-syntax-declare-step"><span style="display: none;" class="delete_version"><span class="decl"><code>&lt;p:declare-step</code><code class="attr type-attr">type</code><code>="</code><code class="value type-value">p:validate-with-xml-schema</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">source</code><code>"</code><code class="attr primary-attr">primary</code><code>="</code><code class="value primary-value">true</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">application/xml text/xml */*+xml</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">schema</code><code>"</code><code class="attr sequence-attr">sequence</code><code>="</code><code class="value sequence-value">true</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">application/xml text/xml */*+xml</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">application/xml</code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">use-location-hints</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">false()</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:boolean</code><code>"</code><code>/&gt;</code><code></code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">try-namespaces</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">false()</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:boolean</code><code>"</code><code>/&gt;</code><code></code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">assert-valid</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">true()</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:boolean</code><code>"</code><code>/&gt;</code><code></code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">mode</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">'strict'</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:token</code><code>"</code><code class="attr values-attr">values</code><code>="</code><code class="value values-value">('strict','lax')</code><code>"</code><code>/&gt;</code><code></code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">version</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:string?</code><code>"</code><code>/&gt;</code><code>                    </code></span><br /><code>&lt;/p:declare-step&gt;</code></span><span style="display: none;" class="add_version"><span class="decl"><code>&lt;p:declare-step</code><code class="attr type-attr">type</code><code>="</code><code class="value type-value">p:validate-with-xml-schema</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">source</code><code>"</code><code class="attr primary-attr">primary</code><code>="</code><code class="value primary-value">true</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">xml html</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">schema</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">xml</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code><code class="attr primary-attr">primary</code><code>="</code><code class="value primary-value">true</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">xml html</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">report</code><code>"</code><code class="attr sequence-attr">sequence</code><code>="</code><code class="value sequence-value">true</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">application/xml json</code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">use-location-hints</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">false()</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:boolean</code><code>"</code><code>/&gt;</code><code></code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">try-namespaces</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">false()</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:boolean</code><code>"</code><code>/&gt;</code><code></code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">assert-valid</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">true()</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:boolean</code><code>"</code><code>/&gt;</code><code></code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">parameters</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">map(xs:QName,item()*)?</code><code>"</code><code>/&gt;</code><code>     </code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">mode</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">'strict'</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:token</code><code>"</code><code class="attr values-attr">values</code><code>="</code><code class="value values-value">('strict','lax')</code><code>"</code><code>/&gt;</code><code></code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">version</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:string?</code><code>"</code><code>/&gt;</code><code>                    </code></span><br /><code>&lt;/p:declare-step&gt;</code></span><span class="modify_version"><span class="decl"><code>&lt;p:declare-step</code><code class="attr type-attr">type</code><code>="</code><code class="value type-value">p:validate-with-xml-schema</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">source</code><code>"</code><code class="attr primary-attr">primary</code><code>="</code><code class="value primary-value">true</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value"><span class="deltaxml-old" style="background:#FF5555">application/xml text/xml */*+xml</span><span class="deltaxml-new" style="background:#90EE90">xml html</span></code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">schema</code><code>"</code><code class="attr content-types-attr"><span class="deltaxml-old" style="background:#FF5555">sequence</span><span class="deltaxml-new" style="background:#90EE90">content-types</span></code><code>="</code><code class="value content-types-value"><span class="deltaxml-new" style="background:#90EE90">xml</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code><span class="deltaxml-new" style="background:#90EE90">/&gt;</span></code></span><br /><span class="deltaxml-new" style="background:#90EE90">     </span><span class="input"><code><span class="deltaxml-new" style="background:#90EE90">&lt;p:output</span></code><code class="attr port-attr"><span class="deltaxml-new" style="background:#90EE90">port</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value port-value"><span class="deltaxml-new" style="background:#90EE90">result</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code class="attr primary-attr"><span class="deltaxml-new" style="background:#90EE90">primary</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value primary-value">true</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value"><span class="deltaxml-old" style="background:#FF5555">application/xml text/xml */*+xml</span><span class="deltaxml-new" style="background:#90EE90">xml html</span></code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value"><span class="deltaxml-old" style="background:#FF5555">result</span><span class="deltaxml-new" style="background:#90EE90">report</span></code><code>"</code><code class="attr sequence-attr"><span class="deltaxml-new" style="background:#90EE90">sequence</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value sequence-value"><span class="deltaxml-new" style="background:#90EE90">true</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">application/xml<span class="deltaxml-new" style="background:#90EE90"> json</span></code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">use-location-hints</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">false()</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:boolean</code><code>"</code><code>/&gt;</code><code></code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">try-namespaces</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">false()</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:boolean</code><code>"</code><code>/&gt;</code><code></code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">assert-valid</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">true()</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:boolean</code><code>"</code><code>/&gt;</code><code></code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value"><span class="deltaxml-new" style="background:#90EE90">parameters</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code class="attr as-attr"><span class="deltaxml-new" style="background:#90EE90">as</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value as-value"><span class="deltaxml-new" style="background:#90EE90">map(xs:QName,item()*)?</span></code><code><span class="deltaxml-new" style="background:#90EE90">"</span></code><code><span class="deltaxml-new" style="background:#90EE90">/&gt;</span></code><code><span class="deltaxml-new" style="background:#90EE90">     </span></code></span><br /><span class="deltaxml-new" style="background:#90EE90">     </span><span class="opt-opt"><code><span class="deltaxml-new" style="background:#90EE90">&lt;p:option</span></code><code class="attr name-attr"><span class="deltaxml-new" style="background:#90EE90">name</span></code><code><span class="deltaxml-new" style="background:#90EE90">="</span></code><code class="value name-value">mode</code><code>"</code><code class="attr select-attr">select</code><code>="</code><code class="value select-value">'strict'</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:token</code><code>"</code><code class="attr values-attr">values</code><code>="</code><code class="value values-value">('strict','lax')</code><code>"</code><code>/&gt;</code><code></code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">version</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:string?</code><code>"</code><code>/&gt;</code><code>                    </code></span><br /><code>&lt;/p:declare-step&gt;</code></span></p><p>The values of the <code class="option">use-location-hints</code>, <code class="option">try-namespaces</code>, and <code class="option">assert-valid</code> options <span class="rfc2119" id="c.validate-with-xml-schema.4.4">must</span> be boolean.</p><p>The value of the <code class="option">mode</code> option <span class="rfc2119" id="c.validate-with-xml-schema.5.2">must</span> be an NMTOKEN whose value is either “<code class="literal">strict</code>” or “<code class="literal">lax</code>”.</p><p>Validation is performed against the set of schemas represented by the documents on the <code class="port">schema</code> port. These schemas must be used in preference to any schema locations provided by schema location hints encountered during schema validation, that is, schema locations supplied for <code class="code">xs:import</code> or <code class="code">xsi:schema-location</code>, or determined by schema-processor-defined namespace-based strategies, for the namespaces covered by the documents available on the schemas port.</p><p>If <code class="code">xs:include</code> elements occur within the supplied schema documents, they are treated like any other external documents (see [<a href="#xproc30"><span class="abbrev">XProc 3.0</span></a>]). <span id="impl-2">It is <em class="glossterm"><a href="#dt-implementation-defined">implementation-defined</a></em> if the documents supplied on the <code class="port">schemas</code> port are considered when resolving <code class="code">xs:include</code> elements in the schema documents provided.</span></p><p>The <code class="option">use-location-hints</code> and <code class="option">try-namespaces</code> options allow the pipeline author to control how the schema processor should attempt to locate schema documents necessary but not provided on the <code class="port">schema</code> port. Any schema documents provided on the <code class="port">schema</code> port <span class="rfc2119" id="c.validate-with-xml-schema.8.5">must</span> be used in preference to schema documents located by other means.</p><p>If the <code class="option">use-location-hints</code> option is “<code class="literal">true</code>”, the processor <span class="rfc2119" id="c.validate-with-xml-schema.9.3">should</span> make use of schema location hints to locate schema documents. If the option is “<code class="literal">false</code>”, the processor <span class="rfc2119" id="c.validate-with-xml-schema.9.5">should</span> ignore any such hints.</p><p>If the <code class="option">try-namespaces</code> option is “<code class="literal">true</code>”, the processor <span class="rfc2119" id="c.validate-with-xml-schema.10.3">should</span> attempt to dereference the namespace URI to locate schema documents. If the option is “<code class="literal">false</code>”, the processor <span class="rfc2119" id="c.validate-with-xml-schema.10.5">should not</span> dereference namespace URIs.</p><p>The <code class="option">mode</code> option allow the pipeline author to control how schema validation begins. The “<code class="literal">strict</code>” mode means that the document element must be declared and schema-valid, otherwise it will be treated as invalid. The “<code class="literal">lax</code>” mode means that the absence of a declaration for the document element does not itself count as an unsuccessful outcome of validation.</p><p>If the step specifies a <code class="option">version</code>, then that version of XML Schema <span class="rfc2119" id="c.validate-with-xml-schema.12.2">must</span> be used to process the validation. <a id="err.inline.C0038"></a>It is a <em class="glossterm"><a href="#dt-dynamic-error">dynamic error</a></em> (<a href="#err.C0038"><code class="errqname">err:XC0038</code></a>) if the specified version is not available. If the step does not specify a version, the implementation may use any version it has available and may use any means to determine what version to use, including, but not limited to, examining the version of the schema(s).</p><p><span style="display: none;" class="delete_version"><a id="err.inline.C0053.1"></a>It is a <em class="glossterm"><a href="#dt-dynamic-error">dynamic error</a></em> (<a href="#err.C0053"><code class="errqname">err:XC0053</code></a>) if the <code class="option">assert-valid</code> option is <code class="literal">true</code> and the input document is not valid. If the <code class="option">assert-valid</code> option is <code class="literal">false</code>, it is not an error for the document to be invalid. In this case, if the implementation does not support the PSVI, <code class="tag-element">p:validate-with-xml-schema</code> is essentially just an “identity” step, but if the implementation <em>does</em> support the PSVI, then the resulting document will have additional type information (at least for the subtrees that are valid).</span><span style="display: none;" class="add_version"><a id="err.inline.C0053.2"></a>It is a <em class="glossterm"><a href="#dt-dynamic-error">dynamic error</a></em> (<a href="#err.C0053"><code class="errqname">err:XC0053</code></a>) if the <code class="option">assert-valid</code> option is <code class="literal">true</code> and the input document is not valid. If the <code class="option">assert-valid</code> option is <code class="literal">false</code>, it is not an error for the document to be invalid. In this case, if the implementation does not support the PSVI, <code class="tag-element">p:validate-with-xml-schema</code> is essentially just an “identity” step, but if the implementation <em>does</em> support the PSVI, then the resulting document will have additional type information (at least for the subtrees that are valid).</span><span class="modify_version"><a id="err.inline.C0053.1"></a><a id="err.inline.C0053.2"></a>It is a <em class="glossterm"><a href="#dt-dynamic-error">dynamic error</a></em> (<a href="#err.C0053"><code class="errqname">err:XC0053</code></a>) if the <code class="option">assert-valid</code> option is <code class="literal">true</code> and the input document is not valid. If the <code class="option">assert-valid</code> option is <code class="literal">false</code>, it is not an error for the document to be invalid. In this case, if the implementation does not support the PSVI, <code class="tag-element">p:validate-with-xml-schema</code> is essentially just an “identity” step, but if the implementation <em>does</em> support the PSVI, then the resulting document will have additional type information (at least for the subtrees that are valid).</span></p><p>When XML Schema validation assessment is performed, the processor is invoked in the mode specified by the <code class="option">mode</code> option. <a id="err.inline.C0055"></a>It is a <em class="glossterm"><a href="#dt-dynamic-error">dynamic error</a></em> (<a href="#err.C0055"><code class="errqname">err:XC0055</code></a>) if the implementation does not support the specified mode. </p><p>The <code class="port">result</code> of the assessment is a document with the Post-Schema-Validation-Infoset (PSVI) ([<a href="#xmlschema-1"><span class="abbrev">W3C XML Schema: Part 1</span></a>]) annotations, if the pipeline implementation supports such annotations. If not, the input document is reproduced with any defaulting of attributes and elements performed as specified by the XML Schema recommendation.</p><section class="section" id="c.validate-with-xml-schema.16"><div class="section-titlepage"><h3><span class="deltaxml-old" style="background:#FF5555">4.1</span><span class="deltaxml-new" style="background:#90EE90">6.1</span> Document properties</h3></div><div class="content"><p>All document properties on the <code class="port">source</code> port are preserved on the <code class="port">result</code> port. No document properties on the <code class="port">schemas</code> port are preserved.</p></div></section></div></section><section class="section" id="errors"><div class="section-titlepage"><h2><span class="deltaxml-old" style="background:#FF5555">5</span><span class="deltaxml-new" style="background:#90EE90">7</span> Step Errors</h2></div><div class="content"><p>This step can raise <em class="glossterm"><a href="#dt-dynamic-error">dynamic errors</a></em>. </p><p><span id="dt-dynamic-error" class="termdef">[Definition: A <em class="glossterm">dynamic error</em> is one which occurs while a pipeline is being evaluated.]</span> Examples of dynamic errors include references to URIs that cannot be resolved, steps which fail, and pipelines that exhaust the capacity of an implementation (such as memory or disk space). For a more complete discussion of dynamic errors, see <cite><a href="xproc/#dynamic-errors">Dynamic Errors</a></cite> in <cite><a href="xproc/">XProc 3.0: An XML Pipeline Language</a></cite>. </p><p>If a step fails due to a dynamic error, failure propagates upwards until either a <code class="tag-element">p:try</code> is encountered or the entire pipeline fails. In other words, outside of a <code class="tag-element">p:try</code>, step failure causes the entire pipeline to fail.</p><p>The following errors can be raised by this step:</p><div id="step-error-summary"><dl class="errs"><dt id="err.C0038"><code class="errqname">err:XC0038</code></dt><dd><p>It is a dynamic error if the specified version is not available.</p><p>See: <a href="#err.inline.C0038">Validate with XML Schema</a></p></dd><dt id="err.C0053"><code class="errqname">err:XC0053</code></dt><dd><p>It is a dynamic error if the assert-valid option is true and the input document is not valid.</p><p>See: <a href="#err.inline.C0053">Validate with <span class="deltaxml-old" style="background:#FF5555">RELAX NG</span><span class="deltaxml-new" style="background:#90EE90">NVDL</span></a><span class="deltaxml-new" style="background:#90EE90">, </span><a href="#err.inline.C0053.1"><span class="deltaxml-new" style="background:#90EE90">Validate with RELAX NG</span></a>, <a href="#err.inline.C0053.2">Validate with XML Schema</a></p></dd><dt id="err.C0054"><code class="errqname">err:XC0054</code></dt><dd><p>It is a dynamic error if the assert-valid option is true and any Schematron assertions fail or reports succeed.</p><p>See: <a href="#err.inline.C0054">Validate with Schematron</a></p></dd><dt id="err.C0055"><code class="errqname">err:XC0055</code></dt><dd><p>It is a dynamic error if the implementation does not support the specified mode.</p><p>See: <a href="#err.inline.C0055">Validate with XML Schema</a></p></dd></dl></div></div></section><article id="conformance" class="appendix"><header class="appendix-titlepage"><h2>A Conformance</h2></header><div class="content"><p>Conformant processors <span class="rfc2119" id="conformance.2.1">must</span> implement all of the features described in this specification except those that are explicitly identified as optional.</p><p>Some aspects of processor behavior are not completely specified; those features are either <em class="glossterm"><a href="#dt-implementation-dependent">implementation-dependent</a></em> or <em class="glossterm"><a href="#dt-implementation-defined">implementation-defined</a></em>.</p><p><span id="dt-implementation-dependent" class="termdef">[Definition: An <em class="glossterm">implementation-dependent</em> feature is one where the implementation has discretion in how it is performed. Implementations are not required to document or explain how <em class="glossterm"><a href="#dt-implementation-dependent">implementation-dependent</a></em> features are performed.]</span></p><p><span id="dt-implementation-defined" class="termdef">[Definition: An <em class="glossterm">implementation-defined</em> feature is one where the implementation has discretion in how it is performed. Conformant implementations <span class="rfc2119" id="dt-implementation-defined.2">must</span> document how <em class="glossterm"><a href="#dt-implementation-defined">implementation-defined</a></em> features are performed.]</span></p><section class="section" id="implementation-defined"><div class="section-titlepage"><h2>A.1 Implementation-defined features</h2></div><div class="content"><p>The following features are implementation-defined:</p><ol class="features"><li>It is implementation-defined if the documents supplied on the schemas port are considered when resolving xs:include elements in the schema documents provided. See <a title="Validate with XML Schema" href="#c.validate-with-xml-schema">Section <span class="deltaxml-old" style="background:#FF5555">4</span><span class="deltaxml-new" style="background:#90EE90">6</span>, “Validate with XML Schema”</a>.</li></ol></div></section><section id="implementation-dependent" class="section"><div class="section-titlepage"><h2>A.2 Implementation-dependent features</h2></div><div class="content"><p>The following features are implementation-dependent:</p><ol class="features"></ol></div></section></div></article><article id="references" class="appendix"><header class="appendix-titlepage"><h2>B References</h2></header><div class="content"><div id="references.2" class="bibliolist"><div id="xproc30" class="bibliomixed"><p>[<span class="abbrev">XProc 3.0</span>] <a href="http://spec.xproc.org/"><span class="citetitle"><cite>XProc 3.0: An XML Pipeline Language</cite></span></a>. Norman Walsh, Achim Berndzen, Gerrit Imsieke and Erik Siegel, editors. </p></div><div id="xproc30-steps" class="bibliomixed"><p>[<span class="abbrev">XProc 3.0 Steps</span>] <a href="http://spec.xproc.org/"><span class="citetitle"><cite>XProc 3.0 Steps: An Introduction</cite></span></a>. Norman Walsh, Achim Berndzen, Gerrit Imsieke and Erik Siegel, editors. </p></div><div id="xvrl" class="bibliomixed"><p><span class="deltaxml-new" style="background:#90EE90">[</span><span class="abbrev"><span class="deltaxml-new" style="background:#90EE90">XVRL</span></span><span class="deltaxml-new" style="background:#90EE90">] </span><a href="http://spec.xproc.org/xvrl/"><span class="citetitle"><cite><span class="deltaxml-new" style="background:#90EE90">Extensible Validation Reporting Language</span></cite></span></a><span class="deltaxml-new" style="background:#90EE90"> 2019. </span></p></div><div id="iso19757-2" class="bibliomixed"><p>[<span class="abbrev">RELAX NG</span>] ISO/IEC JTC 1/SC 34. <a href="http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=52348"><span class="citetitle"><cite>ISO/IEC 19757-2:2008(E) Document Schema Definition Language (DSDL) -- Part 2: Regular-grammar-based validation -- RELAX NG</cite></span></a> 2008. </p></div><div id="iso19757-3" class="bibliomixed"><p>[<span class="abbrev">Schematron</span>] ISO/IEC JTC 1/SC 34. <span class="citetitle"><cite>ISO/IEC 19757-3:2016(E) Document Schema Definition Languages (DSDL) — Part 3: Rule-based validation — Schematron</cite></span> 2016. </p></div><div id="iso19757-4" class="bibliomixed"><p><span class="deltaxml-new" style="background:#90EE90">[</span><span class="abbrev"><span class="deltaxml-new" style="background:#90EE90">NVDL</span></span><span class="deltaxml-new" style="background:#90EE90">] ISO/IEC JTC 1/SC 34. </span><span class="citetitle"><cite><span class="deltaxml-new" style="background:#90EE90">ISO/IEC 19757-4:2006(E) Document Schema Definition Languages (DSDL) — Part 4: Namespace-based Validation Dispatching Language (NVDL)</span></cite></span><span class="deltaxml-new" style="background:#90EE90"> 2006. </span></p></div><div id="schematron-skeleton" class="bibliomixed"><p><span class="deltaxml-new" style="background:#90EE90">[</span><span class="abbrev"><span class="deltaxml-new" style="background:#90EE90">Schematron Skeleton</span></span><span class="deltaxml-new" style="background:#90EE90">] </span><a href="http://schematron.com/front-page/the-schematron-skeleton-implementation/"><span class="citetitle"><cite><span class="deltaxml-new" style="background:#90EE90">Schematron “Skeleton” Implementation</span></cite></span></a><span class="deltaxml-new" style="background:#90EE90"> 2017. </span></p></div><div id="relaxng-compact-syntax" class="bibliomixed"><p>[<span class="abbrev">RELAX NG Compact Syntax</span>] ISO/IEC JTC 1/SC 34. <span class="citetitle"><cite>ISO/IEC 19757-2:2003/Amd 1:2006 Document Schema Definition Languages (DSDL) — Part 2: Grammar-based validation — RELAX NG AMENDMENT 1 Compact Syntax</cite></span> 2006. </p></div><div id="relaxng-dtd-compat" class="bibliomixed"><p>[<span class="abbrev">RELAX NG DTD Compatibility</span>] <span class="citetitle"><cite>RELAX NG DTD Compatibility</cite></span>. OASIS Committee Specification. 3 December 2001. </p></div><div id="xmlschema-1" class="bibliomixed"><p>[<span class="abbrev">W3C XML Schema: Part 1</span>] <a href="http://www.w3.org/TR/xmlschema-1/"><span class="citetitle"><cite>XML Schema Part 1: Structures Second Edition</cite></span></a>. Henry S. Thompson, David Beech, Murray Maloney, et. al., editors. World Wide Web Consortium, 28 October 2004. </p></div></div></div></article><article id="glossary" class="appendix"><header class="appendix-titlepage"><h2>C Glossary</h2></header><div class="content"><div class="glosslist"><dl><dt id="glossary.2.1" class="glossentry"><em class="glossterm"><a href="#dt-dynamic-error">dynamic error</a></em></dt><dd class="glossdef"><p>A <em class="firstterm">dynamic error</em> is one which occurs while a pipeline is being evaluated.</p></dd><dt id="glossary.2.2" class="glossentry"><em class="glossterm"><a href="#dt-implementation-defined">implementation-defined</a></em></dt><dd class="glossdef"><p>An <em class="firstterm">implementation-defined</em> feature is one where the implementation has discretion in how it is performed. Conformant implementations <span class="rfc2119" id="glossary.2.2.2.1.2">must</span> document how <em class="glossterm"><a href="#dt-implementation-defined">implementation-defined</a></em> features are performed.</p></dd><dt id="glossary.2.3" class="glossentry"><em class="glossterm"><a href="#dt-implementation-dependent">implementation-dependent</a></em></dt><dd class="glossdef"><p>An <em class="firstterm">implementation-dependent</em> feature is one where the implementation has discretion in how it is performed. Implementations are not required to document or explain how <em class="glossterm"><a href="#dt-implementation-dependent">implementation-dependent</a></em> features are performed.</p></dd></dl></div></div></article><article id="ancillary-files" class="appendix"><header class="appendix-titlepage"><h2>D Ancillary files</h2></header><div class="content"><p>This specification includes by reference a number of ancillary files.</p><div class="variablelist"><dl><dt><span class="term"><a href="steps.xpl">steps.xpl</a></span></dt><dd><p>An XProc step library for the declared steps. </p></dd></dl></div></div></article></article><script src="js/prism.js"></script></body></html>